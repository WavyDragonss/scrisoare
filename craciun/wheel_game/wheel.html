<!DOCTYPE html>
<html lang="ro">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Spin the Wheel - Crăciun</title>
  <link rel="stylesheet" href="css/base.css" />
  <link rel="stylesheet" href="css/wheel.css" />
</head>
<body>
  <div class="scene">
    <!-- Subtle falling background -->
    <div id="falling-elements-wheel" class="falling-bg" aria-hidden="true"></div>

    <!-- Header -->
    <header class="wheel-header">
      <h1>Roata Crăciunului</h1>
      <p class="hint">Apasă SPIN și îndeplinește provocarea — totul e sigur și distractiv!</p>
    </header>

    <main class="wheel-main" role="main">
      <div class="wheel-wrap">
        <div class="pointer-wrap" aria-hidden="true">
          <img src="../img/pointer.png" alt="" class="pointer" />
        </div>

        <!-- wheel container: canvas drawn dynamically -->
        <div id="wheel-container" class="wheel-container" role="img" aria-label="Roata cu provocari">
          <canvas id="wheel-canvas"></canvas>
        </div>
      </div>

      <div class="controls">
        <button id="spin-btn" class="spin-btn" aria-label="Spin the wheel" disabled>SPIN</button>
      </div>

      <div id="result-popup" class="result-popup hide" role="dialog" aria-modal="true" aria-hidden="true">
        <div class="popup-inner">
          <div id="result-text" class="result-text">...</div>
          <div class="popup-actions">
            <button id="again-btn" class="secondary">Spin Again</button>
            <button id="to-next-btn" class="primary">Continue</button>
          </div>
        </div>
      </div>
    </main>

    <footer class="wheel-footer">
      <small>Provocările sunt amuzante și sigure — dai spin și te distrezi!</small>
    </footer>

    <!-- Audio (lazy-loaded by JS) -->
    <audio id="bell-audio" src="../misc/bell.mp3" preload="none"></audio>
    <audio id="spin-audio" src="../misc/spin.wav" preload="none"></audio>
  </div>

  <!-- Debug/Admin Menu (temporary) -->
  <button id="debug-btn" class="debug-btn" aria-label="Debug menu">404</button>

  <div id="password-modal" class="password-modal hidden" role="dialog" aria-modal="true" aria-hidden="true">
    <div class="password-inner">
      <button id="close-password-btn" class="close-btn" aria-label="Close">✕</button>
      <h2>Debug Access</h2>
      <label for="password-input">Password:</label>
      <input id="password-input" type="password" placeholder="Enter password" />
      <button id="submit-password-btn" class="submit-btn">Enter</button>
      <p id="password-error" class="error hidden"></p>
    </div>
  </div>

  <!-- snow.js must be loaded before wheel.js -->
  <script src="js/snow.js" defer></script>
  <script src="js/wheel.js" defer></script>
</body>
</html>